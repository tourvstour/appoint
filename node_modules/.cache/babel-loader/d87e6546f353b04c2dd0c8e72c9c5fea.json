{"ast":null,"code":"var _jsxFileName = \"I:\\\\ANYcode\\\\react\\\\samroiyod_next-app\\\\src\\\\Components\\\\Confirm.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Card, Button, message, Steps, Icon, Col, Spin } from 'antd';\nimport Logo from '../Components/Logo';\nimport { Link } from 'react-router-dom';\nconst Step = Steps.Step;\n\nclass Confirm extends Component {\n  constructor() {\n    super();\n\n    this.Confirm = () => {\n      this.setState({\n        spinter: true\n      });\n      fetch(\"http://183.88.219.85:7078/appoint/appointing.php\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          person: this.props.person,\n          service: this.props.service\n        })\n      }).then(res => res.json()).then(res => {\n        let stat = res.map(a => a.stat).toString(),\n            mess = res.map(a => a.mess).toString();\n\n        if (stat === \"0\") {\n          message.error(mess);\n          this.setState({\n            spinter: false\n          });\n        } else {\n          this.setState({\n            spinter: false,\n            buttonFu: React.createElement(Button, {\n              style: {\n                borderRadius: \"20px\"\n              },\n              size: \"large\",\n              type: \"primary\",\n              block: true,\n              onClick: this.Back,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 46\n              },\n              __self: this\n            }, React.createElement(Link, {\n              to: \"/?lineId=\".concat(this.props.person.map(a => a.line).toString()),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49\n              },\n              __self: this\n            }, React.createElement(Icon, {\n              type: \"ahome\",\n              style: {\n                fontSize: \"18px\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49\n              },\n              __self: this\n            }), \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"))\n          });\n          message.success(mess);\n          fetch(\"https://mophconnect.go.th/api/queue\", {\n            method: \"POST\",\n            body: JSON.stringify({\n              userId: this.props.person.map(a => a.line).toString(),\n              hospitalName: \"โรงพยาบาลสามร้อยยอด\",\n              origin: \"กระทรวงสาธารณสุข\",\n              queueNumber: this.props.service.map(a => a.servicePoint).toString() + \" คิวที่ \" + this.props.service.map(a => a.serviceTime).toString(),\n              patientName: this.props.person.map(a => a.prefix + \" \" + a.fname + \" \" + a.lname).toString(),\n              appointmentDate: this.props.service.map(a => a.serviceDate).toString(),\n              appointmentTime: \"เวลานัดหมาย \" + this.props.service.map(a => a.serviceTime) + \"น. กรุณามาก่อนนัด20นาที\",\n              detailsLink: \"http://www.samroiyodhospital.go.th/\",\n              currentQueueLink: \"http://www.samroiyodhospital.go.th/\"\n            })\n          });\n        }\n      });\n    };\n\n    this.state = {\n      spinter: false,\n      buttonFu: React.createElement(Button, {\n        style: {\n          borderRadius: \"20px\"\n        },\n        size: \"large\",\n        type: \"primary\",\n        block: true,\n        onClick: this.Confirm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"save\",\n        style: {\n          fontSize: \"23px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }), \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\")\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(Spin, {\n      spinning: this.state.spinter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Steps, {\n      progressDot: true,\n      current: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Step, {\n      title: \"\\u0E25\\u0E07\\u0E17\\u0E30\\u0E40\\u0E1A\\u0E35\\u0E22\\u0E19\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\",\n          color: \"#3399ff\"\n        },\n        type: \"idcard\",\n        theme: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Step, {\n      title: \"\\u0E17\\u0E33\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\",\n          color: \"#3399ff\"\n        },\n        type: \"solution\",\n        theme: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Step, {\n      title: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\",\n          color: \"#3399ff\"\n        },\n        type: \"file-done\",\n        theme: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: {\n        span: 20,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        borderRadius: \"20px\",\n        fontSize: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\"), this.props.person.map(a => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D: \", a.prefix, \" \", a.fname, \" \", a.lname), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"\\u0E40\\u0E25\\u0E02\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19: \", a.cid, \" \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u0E2D\\u0E32\\u0E22\\u0E38: \", a.age), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C: \", a.plans))), this.props.service.map(b => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E19\\u0E31\\u0E14: \", b.serviceDate, \" \\u0E40\\u0E27\\u0E25\\u0E32 \", b.serviceTime, \" \\u0E19.\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"\\u0E08\\u0E38\\u0E14\\u0E19\\u0E31\\u0E14: \", b.servicePoint), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23: \", b.serviceName))), this.state.buttonFu, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Button, {\n      style: {\n        borderRadius: \"20px\"\n      },\n      size: \"large\",\n      type: \"danger\",\n      block: true,\n      onClick: this.Back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Appoint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"close\",\n      style: {\n        fontSize: \"23px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), \" \\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\")))))));\n  }\n\n}\n\nconst DataStore = state => {\n  return {\n    person: state.person,\n    service: state.service\n  };\n};\n\nexport default connect(DataStore)(Confirm);","map":{"version":3,"sources":["I:\\ANYcode\\react\\samroiyod_next-app\\src\\Components\\Confirm.jsx"],"names":["React","Component","connect","Card","Button","message","Steps","Icon","Col","Spin","Logo","Link","Step","Confirm","constructor","setState","spinter","fetch","method","body","JSON","stringify","person","props","service","then","res","json","stat","map","a","toString","mess","error","buttonFu","borderRadius","Back","line","fontSize","success","userId","hospitalName","origin","queueNumber","servicePoint","serviceTime","patientName","prefix","fname","lname","appointmentDate","serviceDate","appointmentTime","detailsLink","currentQueueLink","state","render","color","span","offset","textAlign","cid","age","plans","b","serviceName","DataStore"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Card, Button, message, Steps, Icon, Col, Spin } from 'antd'\r\nimport Logo from '../Components/Logo'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Step = Steps.Step\r\n\r\nclass Confirm extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            spinter: false,\r\n            buttonFu: <Button\r\n                style={{ borderRadius: \"20px\" }}\r\n                size=\"large\"\r\n                type=\"primary\" block onClick={this.Confirm}><Icon type=\"save\" style={{ fontSize: \"23px\" }} />ยืนยัน\r\n             </Button>\r\n        }\r\n    }\r\n\r\n    Confirm = () => {\r\n        this.setState({\r\n            spinter: true\r\n        })\r\n        fetch(\"http://183.88.219.85:7078/appoint/appointing.php\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                person: this.props.person,\r\n                service: this.props.service\r\n            })\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                let stat = res.map(a => a.stat).toString(),\r\n                    mess = res.map(a => a.mess).toString()\r\n                if (stat === \"0\") {\r\n                    message.error(mess)\r\n                    this.setState({\r\n                        spinter: false\r\n                    })\r\n                }\r\n                else {\r\n                    this.setState({\r\n                        spinter: false,\r\n                        buttonFu: <Button\r\n                            style={{ borderRadius: \"20px\" }}\r\n                            size=\"large\"\r\n                            type=\"primary\" block onClick={this.Back}><Link to={`/?lineId=${this.props.person.map(a => a.line).toString()}`} ><Icon type=\"ahome\" style={{ fontSize: \"18px\" }} />กลับหน้าแรก</Link>\r\n                        </Button>\r\n                    })\r\n                    message.success(mess)\r\n                    fetch(\"https://mophconnect.go.th/api/queue\", {\r\n                        method: \"POST\",\r\n                        body: JSON.stringify({\r\n                            userId: this.props.person.map(a => a.line).toString(),\r\n                            hospitalName: \"โรงพยาบาลสามร้อยยอด\",\r\n                            origin: \"กระทรวงสาธารณสุข\",\r\n                            queueNumber: this.props.service.map(a => a.servicePoint).toString() + \" คิวที่ \" + this.props.service.map(a => a.serviceTime).toString(),\r\n                            patientName: this.props.person.map(a => a.prefix + \" \" + a.fname + \" \" + a.lname).toString(),\r\n                            appointmentDate: this.props.service.map(a => a.serviceDate).toString(),\r\n                            appointmentTime: \"เวลานัดหมาย \" + this.props.service.map(a => a.serviceTime) + \"น. กรุณามาก่อนนัด20นาที\",\r\n                            detailsLink: \"http://www.samroiyodhospital.go.th/\",\r\n                            currentQueueLink: \"http://www.samroiyodhospital.go.th/\"\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n\r\n            <div>\r\n                <Logo />\r\n            </div>\r\n\r\n            <Spin spinning={this.state.spinter}>\r\n\r\n                <Steps progressDot current={2}>\r\n                    <Step title=\"ลงทะเบียน\" description={<Icon style={{ fontSize: \"25px\", color: \"#3399ff\" }} type=\"idcard\" theme=\"\" />} />\r\n                    <Step title=\"ทำรายการนัดหมาย\" description={<Icon style={{ fontSize: \"25px\", color: \"#3399ff\" }} type=\"solution\" theme=\"\" />} />\r\n                    <Step title=\"บันทึก\" description={<Icon style={{ fontSize: \"25px\", color: \"#3399ff\" }} type=\"file-done\" theme=\"\" />} />\r\n                </Steps>\r\n                <br />\r\n                <Card>\r\n                    <Col lg={{ span: 20, offset: 2 }}>\r\n                        <Card style={{ borderRadius: \"20px\", fontSize: \"15px\" }}>\r\n                            <div style={{ textAlign: \"center\" }}>\r\n                                การนัดหมาย\r\n                        </div>\r\n                            {this.props.person.map(a => (<div>\r\n                                <h3>ชื่อ: {a.prefix} {a.fname} {a.lname}</h3>\r\n                                <h3>เลขประจำตัวประชาชน: {a.cid} </h3>\r\n                                <h3>อายุ: {a.age}</h3>\r\n                                <h3>สิทธิ์: {a.plans}</h3>\r\n                            </div>))}\r\n                            {this.props.service.map(b => (<div>\r\n                                <h3>วันที่นัด: {b.serviceDate} เวลา {b.serviceTime} น.</h3>\r\n                                <h3>จุดนัด: {b.servicePoint}</h3>\r\n                                <h3>บริการ: {b.serviceName}</h3>\r\n                            </div>))}\r\n                            {this.state.buttonFu}\r\n                            <br />\r\n                            <br />\r\n                            <Button\r\n                                style={{ borderRadius: \"20px\" }}\r\n                                size=\"large\"\r\n                                type=\"danger\" block onClick={this.Back}><Link to=\"/Appoint\" ><Icon type=\"close\" style={{ fontSize: \"23px\" }} /> ยกเลิก</Link>\r\n                            </Button>\r\n                        </Card>\r\n                    </Col>\r\n                </Card>\r\n            </Spin>\r\n        </div>)\r\n    }\r\n}\r\n\r\nconst DataStore = state => {\r\n    return {\r\n        person: state.person,\r\n        service: state.service\r\n    }\r\n}\r\n\r\nexport default connect(DataStore)(Confirm)"]},"metadata":{},"sourceType":"module"}