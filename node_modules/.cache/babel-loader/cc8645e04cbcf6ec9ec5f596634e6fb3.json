{"ast":null,"code":"var _jsxFileName = \"I:\\\\ANYcode\\\\react\\\\samroiyod_next-app\\\\src\\\\Components\\\\Regiter.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { DatePicker, Button, Input, Modal, message, Card, Col, Icon, Steps } from 'antd';\nimport Logo from './Logo';\nconst MonthPicker = DatePicker.MonthPicker,\n      RangePicker = DatePicker.RangePicker,\n      WeekPicker = DatePicker.WeekPicker;\nconst Step = Steps.Step;\n\nclass Regiter extends Component {\n  constructor() {\n    super();\n\n    this.dateChange = (date, dateStr) => {\n      let dates = dateStr,\n          day = dates.split(\"-\")[1] + \"-\" + dates.split(\"-\")[2];\n      dates = dates.split(\"-\")[0];\n      dates = dates++ + 543 + \"-\" + day;\n      this.setState({\n        birthDate: dates\n      });\n    };\n\n    this.Searth = () => {\n      let birthDay = this.state.birthDate,\n          cid = document.getElementById(\"cid\").value,\n          phone = document.getElementById(\"phone\").value;\n\n      if (birthDay === \"\" || cid === \"\" || phone === \"\") {\n        message.warning(\"กรอกข้อมูลให้ครบ\");\n      } else {\n        fetch(\"http://183.88.219.85:7078/appoint/person.php\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            birthDay: birthDay,\n            cid: cid,\n            phone: phone\n          })\n        }).then(res => res.json()).then(res => {\n          let stat = res.map(a => a.stat).toString();\n\n          if (stat === \"0\") {\n            message.warning(res.map(a => a.mess));\n          } else {\n            let dataPerson = [{\n              hn: res.map(a => a.patient_hn).toString(),\n              prefix: res.map(a => a.patient_prefix_description).toString(),\n              fname: res.map(a => a.patient_firstname).toString(),\n              lname: res.map(a => a.patient_lastname).toString(),\n              age: res.map(a => a.age).toString(),\n              plans: res.map(a => a.contract_plans_description).toString(),\n              line: this.state.line,\n              phone: phone,\n              sex: res.map(a => a.sex_description).toString(),\n              cid: res.map(a => a.patient_pid).toString(),\n              birth: res.map(a => a.patient_birthday).toString()\n            }]; //console.log(dataPerson)\n\n            this.setState({\n              visible: true,\n              dataPerson: dataPerson\n            });\n          }\n        });\n      }\n    };\n\n    this.Confirm = () => {\n      this.props.dispatch({\n        type: \"claerPerson\"\n      });\n      this.props.dispatch({\n        type: \"person\",\n        dataPerson: this.state.dataPerson\n      });\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.Close = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.state = {\n      visible: false,\n      birthDate: \"\",\n      dataPerson: [],\n      line: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let appointLineId = window.location.search.split(\"?lineId=\")[1];\n    this.setState({\n      line: appointLineId\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Steps, {\n      progressDot: true,\n      current: 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Step, {\n      title: \"\\u0E25\\u0E07\\u0E17\\u0E30\\u0E40\\u0E1A\\u0E35\\u0E22\\u0E19\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\",\n          color: \"#3399ff\"\n        },\n        type: \"idcard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Step, {\n      title: \"\\u0E17\\u0E33\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\"\n        },\n        type: \"solution\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Step, {\n      title: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\"\n        },\n        type: \"file-done\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: {\n        span: 20,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        borderRadius: \"20px\",\n        borderColor: \"#00b300\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\\u0E27\\u0E31\\u0E19\\u0E40\\u0E01\\u0E34\\u0E14:\"), React.createElement(DatePicker, {\n      style: {\n        width: \"100%\"\n      },\n      onChange: this.dateChange,\n      size: \"large\",\n      placeholder: \"คศ-เดือน-วัน\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19:\"), React.createElement(Input, {\n      size: \"large\",\n      id: \"cid\",\n      placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E40\\u0E25\\u0E02\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\n      maxLength: \"13\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D:\"), React.createElement(Input, {\n      id: \"phone\",\n      placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E25\\u0E02\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\",\n      size: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"large\",\n      block: true,\n      onClick: this.Searth,\n      type: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"zoom-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\")), React.createElement(Modal, {\n      visible: this.state.visible,\n      footer: null,\n      closable: null,\n      mask: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      style: {\n        textAlign: \"\",\n        width: \"100%\",\n        borderInlineStyle: \"groove\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\")), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.dataPerson.map(a => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, a.prefix, \" \", a.fname, \" \", a.lname))))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.state.dataPerson.map(a => a.cid)))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"\\u0E27\\u0E31\\u0E19\\u0E40\\u0E01\\u0E34\\u0E14\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.dataPerson.map(a => a.birth)))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C\")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.dataPerson.map(a => a.plans))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"large\",\n      type: \"primary\",\n      block: true,\n      onClick: this.Confirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Appoint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), \" \\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"large\",\n      type: \"default\",\n      block: true,\n      onClick: this.Close,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\")))));\n  }\n\n}\n\nexport default connect()(Regiter);","map":{"version":3,"sources":["I:\\ANYcode\\react\\samroiyod_next-app\\src\\Components\\Regiter.jsx"],"names":["React","Component","Link","connect","DatePicker","Button","Input","Modal","message","Card","Col","Icon","Steps","Logo","MonthPicker","RangePicker","WeekPicker","Step","Regiter","constructor","dateChange","date","dateStr","dates","day","split","setState","birthDate","Searth","birthDay","state","cid","document","getElementById","value","phone","warning","fetch","method","body","JSON","stringify","then","res","json","stat","map","a","toString","mess","dataPerson","hn","patient_hn","prefix","patient_prefix_description","fname","patient_firstname","lname","patient_lastname","age","plans","contract_plans_description","line","sex","sex_description","patient_pid","birth","patient_birthday","visible","Confirm","props","dispatch","type","Close","componentDidMount","appointLineId","window","location","search","render","fontSize","color","span","offset","borderRadius","borderColor","textAlign","width","borderInlineStyle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { DatePicker, Button, Input, Modal, message, Card, Col, Icon, Steps } from 'antd'\r\nimport Logo from './Logo'\r\n\r\nconst { MonthPicker, RangePicker, WeekPicker } = DatePicker;\r\nconst Step = Steps.Step;\r\nclass Regiter extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            visible: false,\r\n            birthDate: \"\",\r\n            dataPerson: [],\r\n            line: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let appointLineId = window.location.search.split(\"?lineId=\")[1]\r\n        this.setState({\r\n            line: appointLineId\r\n        })\r\n    }\r\n    dateChange = (date, dateStr) => {\r\n        let dates = dateStr,\r\n            day = dates.split(\"-\")[1] + \"-\" + dates.split(\"-\")[2]\r\n        dates = dates.split(\"-\")[0]\r\n        dates = dates++ + 543 + \"-\" + day\r\n        this.setState({\r\n            birthDate: dates\r\n        })\r\n    }\r\n\r\n    Searth = () => {\r\n        let birthDay = this.state.birthDate,\r\n            cid = document.getElementById(\"cid\").value,\r\n            phone = document.getElementById(\"phone\").value\r\n\r\n        if (birthDay === \"\" || cid === \"\" || phone === \"\") {\r\n            message.warning(\"กรอกข้อมูลให้ครบ\")\r\n        } else {\r\n            fetch(\"http://183.88.219.85:7078/appoint/person.php\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    birthDay: birthDay,\r\n                    cid: cid,\r\n                    phone: phone\r\n                })\r\n            }).then(res => res.json())\r\n                .then(res => {\r\n                    let stat = res.map(a => a.stat).toString()\r\n                    if (stat === \"0\") {\r\n                        message.warning(res.map(a => a.mess))\r\n                    } else {\r\n                        let dataPerson = [{\r\n                            hn: res.map(a => a.patient_hn).toString(),\r\n                            prefix: res.map(a => a.patient_prefix_description).toString(),\r\n                            fname: res.map(a => a.patient_firstname).toString(),\r\n                            lname: res.map(a => a.patient_lastname).toString(),\r\n                            age: res.map(a => a.age).toString(),\r\n                            plans: res.map(a => a.contract_plans_description).toString(),\r\n                            line: this.state.line,\r\n                            phone: phone,\r\n                            sex: res.map(a => a.sex_description).toString(),\r\n                            cid: res.map(a => a.patient_pid).toString(),\r\n                            birth: res.map(a => a.patient_birthday).toString()\r\n                        }]\r\n                        //console.log(dataPerson)\r\n                        this.setState({\r\n                            visible: true,\r\n                            dataPerson: dataPerson\r\n                        })\r\n                    }\r\n\r\n                })\r\n        }\r\n    }\r\n\r\n    Confirm = () => {\r\n        this.props.dispatch({\r\n            type: \"claerPerson\"\r\n        })\r\n        this.props.dispatch({\r\n            type: \"person\",\r\n            dataPerson: this.state.dataPerson\r\n        })\r\n        this.setState({\r\n            visible: true\r\n        })\r\n    }\r\n\r\n    Close = () => {\r\n        this.setState({\r\n            visible: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Logo />\r\n                <Steps progressDot current={0}>\r\n                    <Step title=\"ลงทะเบียน\" description={<Icon style={{ fontSize: \"25px\", color: \"#3399ff\" }} type=\"idcard\" />} />\r\n                    <Step title=\"ทำรายการนัดหมาย\" description={<Icon style={{ fontSize: \"25px\" }} type=\"solution\" />} />\r\n                    <Step title=\"บันทึก\" description={<Icon style={{ fontSize: \"25px\" }} type=\"file-done\" />} />\r\n                </Steps>\r\n                <br />\r\n                <Card>\r\n                    <Col lg={{ span: 20, offset: 2 }}>\r\n                        <Card style={{ borderRadius: \"20px\", borderColor: \"#00b300\" }}>\r\n                            <div style={{ textAlign: \"center\" }}>\r\n                                <h2>ค้นหาข้อมูล</h2>\r\n                            </div>\r\n                            <br />\r\n                            <h3>วันเกิด:</h3>\r\n                            <DatePicker\r\n                                style={{ width: \"100%\" }}\r\n                                onChange={this.dateChange}\r\n                                size={\"large\"}\r\n                                placeholder={\"คศ-เดือน-วัน\"}\r\n                            />\r\n                            <br />\r\n                            <br />\r\n                            <h3>เลขบัตรประชาชน:</h3>\r\n                            <Input size=\"large\" id=\"cid\" placeholder=\"กรอกเลขประจำตัวประชาชน\" maxLength=\"13\" />\r\n                            <br />\r\n                            <br />\r\n                            <h3>เบอร์ติดต่อ:</h3>\r\n                            <Input id=\"phone\" placeholder=\"กรอกหมายเลขโทรศัพ\" size=\"large\" />\r\n                            <br />\r\n                            <br />\r\n                            <Button size=\"large\" block onClick={this.Searth} type={\"primary\"}><Icon type=\"zoom-in\" />ค้นหา</Button>\r\n                        </Card>\r\n                        <Modal\r\n                            visible={this.state.visible}\r\n                            footer={null}\r\n                            closable={null}\r\n                            mask={true}\r\n                        >\r\n                            <table style={{ textAlign: \"\", width: \"100%\", borderInlineStyle: \"groove\" }} >\r\n                                <tr style={{ textAlign: \"center\" }}>\r\n                                    <th colSpan=\"2\"><h2>ข้อมูลผู้รับบริการ</h2></th>\r\n                                    <th></th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th></th>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><h3>ชื่อ</h3></td>\r\n                                    <td>{this.state.dataPerson.map(a => (<div>\r\n                                        <h3>{a.prefix} {a.fname} {a.lname}</h3>\r\n                                    </div>))}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><h3>เลขบัตรประชาชน</h3></td>\r\n                                    <td><h3>{this.state.dataPerson.map(a => a.cid)}</h3></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><h3>วันเกิด</h3></td>\r\n                                    <td><h3>{this.state.dataPerson.map(a => a.birth)}</h3></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><h3>สิทธิ์</h3></td>\r\n                                    <td><h3>{this.state.dataPerson.map(a => a.plans)}</h3></td>\r\n                                </tr>\r\n                            </table>\r\n                            <br />\r\n                            <Button size={\"large\"} type={\"primary\"} block onClick={this.Confirm}><Link to=\"/Appoint\"><Icon type=\"check\" /> ยืนยัน</Link></Button>\r\n                            <br />\r\n                            <br />\r\n                            <Button size={\"large\"} type={\"default\"} block onClick={this.Close}><Icon type=\"close\" />ยกเลิก</Button>\r\n                        </Modal>\r\n                    </Col>\r\n                </Card>\r\n            </div>)\r\n    }\r\n}\r\n\r\nexport default connect()(Regiter)"]},"metadata":{},"sourceType":"module"}