{"ast":null,"code":"var _jsxFileName = \"I:\\\\ANYcode\\\\react\\\\samroiyod_next-app\\\\src\\\\Components\\\\Appoint.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Card, Row, Col, DatePicker, Button, Select, notification, Modal, message, Icon, Steps } from 'antd';\nimport moment from 'moment';\nimport Logo from '../Components/Logo';\nconst MonthPicker = DatePicker.MonthPicker,\n      RangePicker = DatePicker.RangePicker,\n      WeekPicker = DatePicker.WeekPicker;\nconst Option = Select.Option;\nconst Step = Steps.Step;\n\nconst disabledDate = cur => {\n  return cur < moment().add(+1, 'day') || cur > moment().add(+60, 'day');\n};\n\nclass Appoint extends Component {\n  constructor() {\n    super();\n\n    this.renderRedirect = () => {\n      if (this.state.massageLink === true) {\n        return React.createElement(Redirect, {\n          to: \"/massage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.changePoint = e => {\n      console.log(e);\n\n      if (e.split(\"/\")[0].toString() === \"2\") {\n        this.setState({\n          massageLink: true\n        });\n      } else {\n        this.setState({\n          serviceDesc: \"\",\n          serviceId: \"\"\n        });\n        this.setState({\n          servicePoint: e.split(\"/\")[0],\n          servicePointDesc: e.split(\"/\")[1]\n        });\n        fetch(\"http://183.88.219.85:7078/appoint/service.php\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            point: e.split(\"/\")[0]\n          })\n        }).then(res => res.json()).then(res => {\n          this.setState({\n            service: res,\n            serviceDent: React.createElement(Card, {\n              style: {\n                borderRadius: \"20px\",\n                borderColor: \"#00b300\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 90\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              style: {\n                textAlign: \"center\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91\n              },\n              __self: this\n            }, React.createElement(\"h2\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }, \"\\u0E17\\u0E31\\u0E19\\u0E15\\u0E01\\u0E23\\u0E23\\u0E21\"), React.createElement(\"h2\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93\n              },\n              __self: this\n            }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E19\\u0E31\\u0E14 \\u0E41\\u0E25\\u0E30 \\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\")), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n              },\n              __self: this\n            }), React.createElement(DatePicker, {\n              style: {\n                width: \"100%\"\n              },\n              onChange: this.changeDate,\n              size: \"large\",\n              disabledDate: disabledDate,\n              value: moment(this.state.dateAppoint),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 96\n              },\n              __self: this\n            }), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 104\n              },\n              __self: this\n            }), React.createElement(Select, {\n              size: \"large\",\n              showSearch: true,\n              style: {\n                width: \"100%\"\n              },\n              placeholder: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\",\n              optionFilterProp: \"children\",\n              onChange: this.changeService,\n              filterOption: (input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n              value: this.state.serviceDesc,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105\n              },\n              __self: this\n            }, this.state.service.map(a => React.createElement(Option, {\n              value: \"\".concat(a.service_name_id, \"/\").concat(a.service_name_order),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 118\n              },\n              __self: this\n            }, a.service_name_order))), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 121\n              },\n              __self: this\n            }), React.createElement(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 122\n              },\n              __self: this\n            }), React.createElement(Button, {\n              style: {\n                borderRadius: \"20px\"\n              },\n              size: \"large\",\n              block: true,\n              onClick: this.selectTime,\n              type: \"primary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 123\n              },\n              __self: this\n            }, React.createElement(Icon, {\n              style: {\n                fontSize: \"25px\"\n              },\n              type: \"history\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 128\n              },\n              __self: this\n            }), \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E40\\u0E27\\u0E25\\u0E32\\u0E19\\u0E31\\u0E14\"))\n          });\n        });\n      }\n    };\n\n    this.changeDate = (e, a) => {\n      try {\n        let dayOff = e._d.getDay();\n\n        fetch(\"http://183.88.219.85:7078/appoint/day_off.php\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            datec: a\n          })\n        }).then(res => res.json()).then(res => {\n          let dayOffSpacial = res.map(a => a.dayoff_date),\n              dayOffDesc = res.map(a => a.dayoff_name);\n\n          const openNotificationWithIcon = type => {\n            notification[type]({\n              duration: null,\n              message: 'ไม่สามารถเลือกวันหยุดราชการได้',\n              description: 'กรุณาเลือกวันนัดในวันทำการ',\n              btn: React.createElement(Button, {\n                onClick: () => notification.destroy(),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 153\n                },\n                __self: this\n              }, \"close\")\n            });\n          };\n\n          const dayOff_hospital = type => {\n            notification[type]({\n              duration: null,\n              message: \"ไม่สามารถเลือกวันหยุดราชการได้\",\n              description: dayOffSpacial + \" \" + dayOffDesc,\n              btn: React.createElement(Button, {\n                onClick: () => notification.destroy(),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 161\n                },\n                __self: this\n              }, \"close\")\n            });\n          };\n\n          if (dayOff === 0 || dayOff === 6) {\n            openNotificationWithIcon('warn');\n          } else if (dayOffSpacial.length !== 0) {\n            dayOff_hospital('warning');\n          } else {\n            this.setState({\n              dateAppoint: a\n            });\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.changeService = e => {\n      // console.log(e)\n      this.setState({\n        serviceId: e.split(\"/\")[0],\n        serviceDesc: e.split(\"/\")[1]\n      });\n    };\n\n    this.selectTime = () => {\n      let dateApp = this.state.dateAppoint.toString(),\n          servicePoint = this.state.servicePoint,\n          serviceIds = this.state.serviceId;\n\n      const dateError = type => {\n        notification[type]({\n          duration: '10',\n          message: \"ระบุวันที่รับบริการอีกครั้ง\",\n          btn: React.createElement(Button, {\n            onClick: () => notification.destroy(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, \"close\")\n        });\n      };\n\n      const pointError = type => {\n        notification[type]({\n          duration: '10',\n          message: \"ระบุจุดรับบริการ\",\n          btn: React.createElement(Button, {\n            onClick: () => notification.destroy(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }, \"close\")\n        });\n      };\n\n      const serviceError = type => {\n        notification[type]({\n          duration: '10',\n          message: \"ระบุบริการ\",\n          btn: React.createElement(Button, {\n            onClick: () => notification.destroy(),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 215\n            },\n            __self: this\n          }, \"close\")\n        });\n      };\n\n      if (dateApp === \"\") {\n        dateError('warning');\n      } else if (servicePoint === \"\") {\n        pointError('warning');\n      } else if (serviceIds === \"\") {\n        serviceError('warning');\n      } else {\n        fetch(\"http://183.88.219.85:7078/appoint/time_appoint.php\", {\n          method: \"POST\",\n          body: JSON.stringify({\n            date: dateApp,\n            point: servicePoint\n          })\n        }).then(res => res.json()).then(res => {\n          // console.log(res.length)\n          this.setState({\n            timeWaiting: res,\n            modal: true,\n            buttonSub: \"primary\",\n            buttonSubStat: false,\n            maxLength: res.length\n          });\n        });\n      }\n    };\n\n    this.onClose = () => {\n      this.setState({\n        modal: false\n      });\n    };\n\n    this.selectAppTime = e => {\n      let id = e.split(\"-\")[0],\n          stat = e.split(\"-\")[1].toString(),\n          timeTh = e.split(\"-\")[2].toString(); //console.log(id + \"=>\" + stat + \"=>\" + timeTh)\n\n      if (stat === \"ว่าง\") {\n        message.success(\"เลือกรายการสำเร็จ\");\n        this.setState({\n          serviceTimeID: id,\n          serviceTimeDesc: timeTh,\n          modal: false\n        });\n      } else {\n        message.error(\"ไม่สามารถทำรายการจองได้\");\n      }\n    };\n\n    this.Confirm = () => {\n      if (this.props.person.map(a => a.hn).toString() === \"\" || this.state.dateAppoint === \"\" || this.state.serviceTimeID === \"\" || this.props.person.map(a => a.plans).toString() === \"\" || this.state.servicePoint === \"\" || this.state.serviceId === \"\") {\n        message.error(\"กรุณาระบุข้อมูลให้ครบถ้วน\");\n      } else {\n        let dataService = [{\n          serviceHn: this.props.person.map(a => a.hn).toString(),\n          serviceDate: this.state.dateAppoint,\n          serviceTimeId: this.state.serviceTimeID,\n          serviceTime: this.state.serviceTimeDesc,\n          servicePlans: this.props.person.map(a => a.plans).toString(),\n          servicePointId: this.state.servicePoint,\n          servicePoint: this.state.servicePointDesc,\n          serviceNameId: this.state.serviceId,\n          serviceName: this.state.serviceDesc,\n          serviceMaxLength: this.state.maxLength,\n          serviceDocId: \"0\"\n        }]; //console.log(dataService)\n\n        this.props.dispatch({\n          type: \"ClearService\"\n        });\n        this.props.dispatch({\n          type: \"service\",\n          dataService\n        });\n        this.setState({\n          Linkto: React.createElement(Button, {\n            block: true,\n            style: {\n              borderRadius: \"20px\"\n            },\n            type: \"primary\",\n            size: \"large\",\n            onClick: this.Confirm,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/Confirm\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }, \" \", React.createElement(Icon, {\n            type: \"check-circle\",\n            style: {\n              fontSize: \"23px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 308\n            },\n            __self: this\n          }), \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"))\n        });\n      }\n    };\n\n    this.state = {\n      massageLink: false,\n      buttonSubStat: true,\n      buttonSub: \"dashed\",\n      modal: false,\n      point: [],\n      service: [],\n      dateAppoint: [],\n      timeWaiting: [],\n      timeAppoint: \"\",\n      timeAppointDesc: \"\",\n      servicePoint: \"\",\n      servicePointDesc: \"\",\n      serviceId: \"\",\n      serviceDesc: \"เลือกบริการ\",\n      serviceTimeID: \"\",\n      serviceTimeDesc: \"\",\n      maxLength: \"\",\n      Linkto: React.createElement(Button, {\n        block: true,\n        style: {\n          borderRadius: \"20px\"\n        },\n        type: \"default\",\n        size: \"large\",\n        onClick: this.Confirm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"scan\",\n        style: {\n          fontSize: \"23px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), \" \\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\"),\n      serviceDent: []\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    fetch(\"http://183.88.219.85:7078/appoint/point.php\").then(res => res.json()).then(res => {\n      this.setState({\n        point: res\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }), React.createElement(Steps, {\n      progressDot: true,\n      current: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(Step, {\n      title: \"\\u0E25\\u0E07\\u0E17\\u0E30\\u0E40\\u0E1A\\u0E35\\u0E22\\u0E19\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\",\n          color: \"#3399ff\"\n        },\n        type: \"idcard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(Step, {\n      title: \"\\u0E17\\u0E33\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E19\\u0E31\\u0E14\\u0E2B\\u0E21\\u0E32\\u0E22\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\",\n          color: \"#3399ff\"\n        },\n        type: \"solution\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(Step, {\n      title: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\",\n      description: React.createElement(Icon, {\n        style: {\n          fontSize: \"25px\"\n        },\n        type: \"file-done\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    })), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(Col, {\n      lg: {\n        span: 20,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        borderRadius: \"20px\",\n        borderColor: \"#3399ff\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\")), React.createElement(\"table\", {\n      style: {\n        width: \"100%\",\n        fontSize: \"18px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E2A\\u0E01\\u0E38\\u0E25\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, this.props.person.map(a => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, a.prefix, \" \", a.fname, \" \", a.lname)))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, this.props.person.map(a => a.cid))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, \"\\u0E27\\u0E31\\u0E19\\u0E40\\u0E01\\u0E34\\u0E14\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, this.props.person.map(a => a.birth))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"\\u0E2A\\u0E34\\u0E17\\u0E18\\u0E34\\u0E4C\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, this.props.person.map(a => a.plans))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }), React.createElement(Card, {\n      style: {\n        borderRadius: \"20px\",\n        borderColor: \"#00b300\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E08\\u0E38\\u0E14\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }), React.createElement(Select, {\n      size: \"large\",\n      showSearch: true,\n      style: {\n        width: \"100%\"\n      },\n      placeholder: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E08\\u0E38\\u0E14\\u0E17\\u0E35\\u0E48\\u0E23\\u0E31\\u0E1A\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\",\n      optionFilterProp: \"children\",\n      onChange: this.changePoint,\n      filterOption: (input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n      defaultOpen: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, this.state.point.map(a => React.createElement(Option, {\n      value: \"\".concat(a.point_id, \"/\").concat(a.point_name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, a.point_name)))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }), this.state.serviceDent, React.createElement(Modal, {\n      visible: this.state.modal,\n      footer: null,\n      closable: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        borderRadius: \"20px\",\n        textAlign: \"center\",\n        border: \" 2px solid green\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E40\\u0E27\\u0E25\\u0E32\\u0E19\\u0E31\\u0E14\\u0E08\\u0E38\\u0E14\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, this.state.servicePointDesc)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }), this.state.timeWaiting.map(a => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, React.createElement(Row, {\n      type: \"flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(Card.Grid, {\n      style: {\n        width: \"50%\",\n        borderRadius: '20px 0px 0px 20px',\n        textAlign: \"center\",\n        backgroundColor: \"#c2c2d6\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, \"\\u0E40\\u0E27\\u0E25\\u0E32\\u0E19\\u0E31\\u0E14\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, \"\".concat(a.time_point_name, \" \\u0E19.\"))), React.createElement(Card.Grid, {\n      hoverable: true,\n      style: {\n        width: \"50%\",\n        borderRadius: '0px 20px 20px 0px',\n        backgroundColor: \"\".concat(a.color),\n        textJustify: \"inter-character\",\n        textAlign: \"center\"\n      },\n      onClick: () => this.selectAppTime(\"\".concat(a.time_point_id, \"-\").concat(a.desc_th, \"-\").concat(a.time_point_name)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, a.desc_th))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      block: true,\n      size: \"large\",\n      type: \"ghost\",\n      style: {\n        backgroundColor: \"#ff3333\",\n        color: \"#ffffff\",\n        borderRadius: \"20px\"\n      },\n      onClick: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, \"\\u0E1B\\u0E34\\u0E14\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415\n      },\n      __self: this\n    }), React.createElement(Card, {\n      style: {\n        borderRadius: \"20px\",\n        borderColor: \"#4d79ff\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E19\\u0E31\\u0E14: \", this.state.dateAppoint, \" \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, \"\\u0E08\\u0E38\\u0E14\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23: \", this.state.servicePointDesc, \" \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, \"\\u0E1A\\u0E23\\u0E34\\u0E01\\u0E32\\u0E23: \", this.state.serviceDesc, \" \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, \"\\u0E40\\u0E27\\u0E25\\u0E32\\u0E19\\u0E31\\u0E14:\", this.state.serviceTimeDesc, \" \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }), this.state.Linkto)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }), React.createElement(Button, {\n      style: {\n        borderRadius: \"20px\"\n      },\n      size: \"large\",\n      type: \"\",\n      block: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/?lineId=\".concat(this.props.person.map(a => a.line).toString()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"home\",\n      style: {\n        fontSize: \"18px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }), \" \\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"))));\n  }\n\n}\n\nconst Person = state => {\n  return {\n    person: state.person\n  };\n};\n\nexport default connect(Person)(Appoint);","map":{"version":3,"sources":["I:\\ANYcode\\react\\samroiyod_next-app\\src\\Components\\Appoint.jsx"],"names":["React","Component","connect","Link","Redirect","Card","Row","Col","DatePicker","Button","Select","notification","Modal","message","Icon","Steps","moment","Logo","MonthPicker","RangePicker","WeekPicker","Option","Step","disabledDate","cur","add","Appoint","constructor","renderRedirect","state","massageLink","changePoint","e","console","log","split","toString","setState","serviceDesc","serviceId","servicePoint","servicePointDesc","fetch","method","body","JSON","stringify","point","then","res","json","service","serviceDent","borderRadius","borderColor","textAlign","width","changeDate","dateAppoint","changeService","input","option","props","children","toLowerCase","indexOf","map","a","service_name_id","service_name_order","selectTime","fontSize","dayOff","_d","getDay","datec","dayOffSpacial","dayoff_date","dayOffDesc","dayoff_name","openNotificationWithIcon","type","duration","description","btn","destroy","dayOff_hospital","length","error","dateApp","serviceIds","dateError","pointError","serviceError","date","timeWaiting","modal","buttonSub","buttonSubStat","maxLength","onClose","selectAppTime","id","stat","timeTh","success","serviceTimeID","serviceTimeDesc","Confirm","person","hn","plans","dataService","serviceHn","serviceDate","serviceTimeId","serviceTime","servicePlans","servicePointId","serviceNameId","serviceName","serviceMaxLength","serviceDocId","dispatch","Linkto","timeAppoint","timeAppointDesc","componentDidMount","window","scrollTo","render","color","span","offset","prefix","fname","lname","cid","birth","point_id","point_name","border","backgroundColor","time_point_name","textJustify","time_point_id","desc_th","line","Person"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { Card, Row, Col, DatePicker, Button, Select, notification, Modal, message, Icon, Steps } from 'antd'\r\nimport moment from 'moment'\r\nimport Logo from '../Components/Logo'\r\n\r\nconst { MonthPicker, RangePicker, WeekPicker } = DatePicker;\r\nconst Option = Select.Option;\r\nconst Step = Steps.Step\r\n\r\nconst disabledDate = (cur) => {\r\n    return cur < moment().add(+1, 'day') || cur > moment().add(+60, 'day')\r\n}\r\nclass Appoint extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            massageLink: false,\r\n            buttonSubStat: true,\r\n            buttonSub: \"dashed\",\r\n            modal: false,\r\n            point: [],\r\n            service: [],\r\n            dateAppoint: [],\r\n            timeWaiting: [],\r\n            timeAppoint: \"\",\r\n            timeAppointDesc: \"\",\r\n            servicePoint: \"\",\r\n            servicePointDesc: \"\",\r\n            serviceId: \"\",\r\n            serviceDesc: \"เลือกบริการ\",\r\n            serviceTimeID: \"\",\r\n            serviceTimeDesc: \"\",\r\n            maxLength: \"\",\r\n            Linkto:\r\n                <Button block\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    type={\"default\"}\r\n                    size={\"large\"}\r\n                    onClick={this.Confirm}>\r\n                    <Icon type=\"scan\" style={{ fontSize: \"23px\" }} /> ตรวจสอบ\r\n                 </Button>,\r\n            serviceDent: []\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        fetch(\"http://183.88.219.85:7078/appoint/point.php\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                this.setState({\r\n                    point: res\r\n                })\r\n            })\r\n    }\r\n    renderRedirect = () => {\r\n        if (this.state.massageLink === true) {\r\n            return <Redirect to='/massage' />\r\n        }\r\n    }\r\n    changePoint = (e) => {\r\n        console.log(e)\r\n        if (e.split(\"/\")[0].toString() === \"2\") {\r\n            this.setState({\r\n                massageLink: true\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                serviceDesc: \"\",\r\n                serviceId: \"\"\r\n            })\r\n            this.setState({\r\n                servicePoint: e.split(\"/\")[0],\r\n                servicePointDesc: e.split(\"/\")[1]\r\n            })\r\n            fetch(\"http://183.88.219.85:7078/appoint/service.php\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    point: e.split(\"/\")[0]\r\n                })\r\n            })\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    this.setState({\r\n                        service: res,\r\n                        serviceDent: (<Card style={{ borderRadius: \"20px\", borderColor: \"#00b300\" }}>\r\n                            <div style={{ textAlign: \"center\" }}>\r\n                                <h2>ทันตกรรม</h2>\r\n                                <h2>เลือกวันที่นัด และ บริการ</h2>\r\n                            </div>\r\n                            <br />\r\n                            <DatePicker\r\n                                style={{ width: \"100%\" }}\r\n                                onChange={this.changeDate}\r\n                                size={\"large\"}\r\n                                disabledDate={disabledDate}\r\n                                value={moment(this.state.dateAppoint)}\r\n                            />\r\n                            <br />\r\n                            <br />\r\n                            <Select\r\n                                size={\"large\"}\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"เลือกบริการ\"\r\n                                optionFilterProp=\"children\"\r\n                                onChange={this.changeService}\r\n                                filterOption={(input, option) =>\r\n                                    option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                }\r\n                                value={this.state.serviceDesc}\r\n                            >\r\n                                {this.state.service.map(a => (\r\n                                    <Option value={`${a.service_name_id}/${a.service_name_order}`}>{a.service_name_order}</Option>\r\n                                ))}\r\n                            </Select>\r\n                            <br />\r\n                            <br />\r\n                            <Button\r\n                                style={{ borderRadius: \"20px\" }}\r\n                                size={\"large\"}\r\n                                block\r\n                                onClick={this.selectTime}\r\n                                type=\"primary\" ><Icon style={{ fontSize: \"25px\" }} type=\"history\" />เลือกเวลานัด\r\n                        </Button>\r\n                        </Card>)\r\n                    })\r\n                })\r\n        }\r\n    }\r\n    changeDate = (e, a) => {\r\n        try {\r\n            let dayOff = e._d.getDay()\r\n            fetch(\"http://183.88.219.85:7078/appoint/day_off.php\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    datec: a\r\n                })\r\n            })\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    let dayOffSpacial = res.map(a => a.dayoff_date),\r\n                        dayOffDesc = res.map(a => a.dayoff_name)\r\n                    const openNotificationWithIcon = type => {\r\n                        notification[type]({\r\n                            duration: null,\r\n                            message: 'ไม่สามารถเลือกวันหยุดราชการได้',\r\n                            description: 'กรุณาเลือกวันนัดในวันทำการ',\r\n                            btn: <Button onClick={() => notification.destroy()}>close</Button>\r\n                        })\r\n                    }\r\n                    const dayOff_hospital = type => {\r\n                        notification[type]({\r\n                            duration: null,\r\n                            message: \"ไม่สามารถเลือกวันหยุดราชการได้\",\r\n                            description: dayOffSpacial + \" \" + dayOffDesc,\r\n                            btn: <Button onClick={() => notification.destroy()}>close</Button>\r\n                        })\r\n                    }\r\n                    if (dayOff === 0 || dayOff === 6) {\r\n                        openNotificationWithIcon('warn')\r\n\r\n                    }\r\n                    else if (dayOffSpacial.length !== 0) {\r\n                        dayOff_hospital('warning')\r\n                    }\r\n                    else {\r\n                        this.setState({\r\n                            dateAppoint: a\r\n                        })\r\n                    }\r\n                })\r\n        }\r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    changeService = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            serviceId: e.split(\"/\")[0],\r\n            serviceDesc: e.split(\"/\")[1]\r\n        })\r\n\r\n    }\r\n\r\n    selectTime = () => {\r\n\r\n        let dateApp = this.state.dateAppoint.toString(),\r\n            servicePoint = this.state.servicePoint,\r\n            serviceIds = this.state.serviceId\r\n        const dateError = type => {\r\n            notification[type]({\r\n                duration: '10',\r\n                message: \"ระบุวันที่รับบริการอีกครั้ง\",\r\n                btn: <Button onClick={() => notification.destroy()}>close</Button>\r\n            })\r\n        }\r\n        const pointError = type => {\r\n            notification[type]({\r\n                duration: '10',\r\n                message: \"ระบุจุดรับบริการ\",\r\n                btn: <Button onClick={() => notification.destroy()}>close</Button>\r\n            })\r\n        }\r\n        const serviceError = type => {\r\n            notification[type]({\r\n                duration: '10',\r\n                message: \"ระบุบริการ\",\r\n                btn: <Button onClick={() => notification.destroy()}>close</Button>\r\n            })\r\n        }\r\n        if (dateApp === \"\") {\r\n            dateError('warning')\r\n        }\r\n        else if (servicePoint === \"\") {\r\n            pointError('warning')\r\n        }\r\n        else if (serviceIds === \"\") {\r\n            serviceError('warning')\r\n        }\r\n        else {\r\n            fetch(\"http://183.88.219.85:7078/appoint/time_appoint.php\", {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    date: dateApp,\r\n                    point: servicePoint\r\n                })\r\n            })\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    // console.log(res.length)\r\n                    this.setState({\r\n                        timeWaiting: res,\r\n                        modal: true,\r\n                        buttonSub: \"primary\",\r\n                        buttonSubStat: false,\r\n                        maxLength: res.length\r\n                    })\r\n                })\r\n        }\r\n    }\r\n\r\n    onClose = () => {\r\n        this.setState({\r\n            modal: false\r\n        })\r\n    }\r\n\r\n    selectAppTime = (e) => {\r\n        let id = e.split(\"-\")[0],\r\n            stat = e.split(\"-\")[1].toString(),\r\n            timeTh = e.split(\"-\")[2].toString()\r\n        //console.log(id + \"=>\" + stat + \"=>\" + timeTh)\r\n        if (stat === \"ว่าง\") {\r\n            message.success(\"เลือกรายการสำเร็จ\")\r\n            this.setState({\r\n                serviceTimeID: id,\r\n                serviceTimeDesc: timeTh,\r\n                modal: false\r\n            })\r\n        }\r\n        else {\r\n            message.error(\"ไม่สามารถทำรายการจองได้\")\r\n        }\r\n    }\r\n\r\n    Confirm = () => {\r\n        if (this.props.person.map(a => a.hn).toString() === \"\" ||\r\n            this.state.dateAppoint === \"\" ||\r\n            this.state.serviceTimeID === \"\" ||\r\n            this.props.person.map(a => a.plans).toString() === \"\" ||\r\n            this.state.servicePoint === \"\" ||\r\n            this.state.serviceId === \"\") {\r\n            message.error(\"กรุณาระบุข้อมูลให้ครบถ้วน\")\r\n        } else {\r\n            let dataService = [{\r\n                serviceHn: this.props.person.map(a => a.hn).toString(),\r\n                serviceDate: this.state.dateAppoint,\r\n                serviceTimeId: this.state.serviceTimeID,\r\n                serviceTime: this.state.serviceTimeDesc,\r\n                servicePlans: this.props.person.map(a => a.plans).toString(),\r\n                servicePointId: this.state.servicePoint,\r\n                servicePoint: this.state.servicePointDesc,\r\n                serviceNameId: this.state.serviceId,\r\n                serviceName: this.state.serviceDesc,\r\n                serviceMaxLength: this.state.maxLength,\r\n                serviceDocId: \"0\"\r\n            }]\r\n            //console.log(dataService)\r\n            this.props.dispatch({\r\n                type: \"ClearService\"\r\n            })\r\n            this.props.dispatch({\r\n                type: \"service\",\r\n                dataService\r\n            })\r\n            this.setState({\r\n                Linkto: <Button block\r\n                    style={{ borderRadius: \"20px\" }}\r\n                    type={\"primary\"}\r\n                    size={\"large\"}\r\n                    onClick={this.Confirm}><Link to='/Confirm'> <Icon type=\"check-circle\" style={{ fontSize: \"23px\" }} />ยืนยัน</Link></Button>\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Logo />\r\n                <br />\r\n                <Steps progressDot current={1} >\r\n                    <Step title=\"ลงทะเบียน\" description={<Icon style={{ fontSize: \"25px\", color: \"#3399ff\" }} type=\"idcard\" />} />\r\n                    <Step title=\"ทำรายการนัดหมาย\" description={<Icon style={{ fontSize: \"25px\", color: \"#3399ff\" }} type=\"solution\" />} />\r\n                    <Step title=\"บันทึก\" description={<Icon style={{ fontSize: \"25px\" }} type=\"file-done\" />} />\r\n                </Steps>\r\n                <Card>\r\n                    {this.renderRedirect()}\r\n                    <Col lg={{ span: 20, offset: 2 }}>\r\n\r\n                        <Card style={{ borderRadius: \"20px\", borderColor: \"#3399ff\" }} >\r\n                            <div style={{ textAlign: \"center\" }}>\r\n                                <h2>ข้อมูลผู้ใช้</h2></div>\r\n                            <table style={{ width: \"100%\", fontSize: \"18px\" }}>\r\n\r\n                                <tr>\r\n                                    <td>ชื่อ-สกุล</td>\r\n                                    <td>{this.props.person.map(a => (<div>\r\n                                        {a.prefix} {a.fname} {a.lname}\r\n                                    </div>))}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>เลขบัตรประชาชน</td>\r\n                                    <td>{this.props.person.map(a => a.cid)}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>วันเกิด</td>\r\n                                    <td>{this.props.person.map(a => a.birth)}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>สิทธิ์</td>\r\n                                    <td>{this.props.person.map(a => a.plans)}</td>\r\n                                </tr>\r\n\r\n                            </table>\r\n                        </Card>\r\n                        <br />\r\n                        <Card style={{ borderRadius: \"20px\", borderColor: \"#00b300\" }}>\r\n                            <div style={{ textAlign: \"center\" }}>\r\n                                <h2>เลือกจุดบริการ</h2>\r\n                            </div>\r\n                            <br />\r\n                            <Select\r\n                                size={\"large\"}\r\n                                showSearch\r\n                                style={{ width: \"100%\" }}\r\n                                placeholder=\"เลือกจุดที่รับบริการ\"\r\n                                optionFilterProp=\"children\"\r\n                                onChange={this.changePoint}\r\n                                filterOption={(input, option) =>\r\n                                    option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                }\r\n                                defaultOpen={null}\r\n                            >\r\n                                {this.state.point.map(a => (\r\n                                    <Option value={`${a.point_id}/${a.point_name}`}>{a.point_name}</Option>\r\n                                ))}\r\n                            </Select>\r\n                        </Card>\r\n                        <br />\r\n                        {this.state.serviceDent}\r\n                        <Modal\r\n                            visible={this.state.modal}\r\n                            footer={null}\r\n                            closable={\"\"}\r\n                        >\r\n                            <Card style={{ borderRadius: \"20px\", textAlign: \"center\", border: \" 2px solid green\" }}>\r\n                                <h2>เลือกเวลานัดจุดบริการ</h2>\r\n                                <h2>{this.state.servicePointDesc}</h2>\r\n                            </Card>\r\n                            <br />\r\n                            {this.state.timeWaiting.map(a => (\r\n                                <div>\r\n                                    <Row type=\"flex\">\r\n                                        <Card.Grid style={{ width: \"50%\", borderRadius: '20px 0px 0px 20px', textAlign: \"center\", backgroundColor: \"#c2c2d6\" }}>\r\n                                            <h2>เวลานัด</h2>\r\n                                            <h2>{`${a.time_point_name} น.`}</h2>\r\n                                        </Card.Grid>\r\n                                        <Card.Grid hoverable style={{\r\n                                            width: \"50%\",\r\n                                            borderRadius: '0px 20px 20px 0px', backgroundColor: `${a.color}`,\r\n                                            textJustify: \"inter-character\",\r\n                                            textAlign: \"center\"\r\n                                        }}\r\n                                            onClick={() => this.selectAppTime(`${a.time_point_id}-${a.desc_th}-${a.time_point_name}`)}>\r\n                                            <br />\r\n                                            <h2>{a.desc_th}</h2>\r\n                                        </Card.Grid>\r\n                                    </Row>\r\n                                    <br />\r\n                                </div>\r\n                            ))}\r\n                            <Button block\r\n                                size={\"large\"}\r\n                                type={\"ghost\"}\r\n                                style={{ backgroundColor: \"#ff3333\", color: \"#ffffff\", borderRadius: \"20px\" }}\r\n                                onClick={this.onClose}\r\n                            >ปิด</Button>\r\n                        </Modal>\r\n                        <br />\r\n                        <Card style={{ borderRadius: \"20px\", borderColor: \"#4d79ff\" }}>\r\n                            <h3>วันที่นัด: {this.state.dateAppoint} </h3>\r\n                            <h3>จุดบริการ: {this.state.servicePointDesc} </h3>\r\n                            <h3>บริการ: {this.state.serviceDesc} </h3>\r\n                            <h3>เวลานัด:{this.state.serviceTimeDesc} </h3>\r\n                            <br />\r\n                            {this.state.Linkto}\r\n                        </Card>\r\n                    </Col>\r\n                    <br />\r\n                    <Button\r\n                        style={{ borderRadius: \"20px\" }}\r\n                        size=\"large\"\r\n                        type=\"\" block ><Link to={`/?lineId=${this.props.person.map(a => a.line).toString()}`} ><Icon type=\"home\" style={{ fontSize: \"18px\" }} /> กลับหน้าแรก</Link>\r\n                    </Button>\r\n                </Card>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst Person = state => {\r\n    return {\r\n        person: state.person\r\n    }\r\n}\r\nexport default connect(Person)(Appoint)"]},"metadata":{},"sourceType":"module"}